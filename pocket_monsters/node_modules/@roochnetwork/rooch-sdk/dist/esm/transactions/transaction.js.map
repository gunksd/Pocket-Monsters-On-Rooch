{
  "version": 3,
  "sources": ["../../../src/transactions/transaction.ts"],
  "sourcesContent": ["// Copyright (c) RoochNetwork\n// SPDX-License-Identifier: Apache-2.0\n\nimport { bcs } from '../bcs/index.js'\nimport { Authenticator } from '../crypto/index.js'\nimport { address, Bytes, u64 } from '../types/index.js'\n\nimport { MoveAction, TransactionData } from './transactionData.js'\nimport { CallFunctionArgs } from './types.js'\n\nexport class Transaction {\n  private data: TransactionData | undefined\n  private auth: Authenticator | undefined\n  private info: string | undefined\n\n  callFunction(\n    input: {\n      info?: string\n    } & CallFunctionArgs,\n  ) {\n    this.info = input.info\n    this.data = new TransactionData(MoveAction.newCallFunction(input))\n  }\n\n  getInfo() {\n    return this.info\n  }\n\n  setSender(input: address) {\n    this.getData().sender = input\n  }\n\n  setAuth(input: Authenticator) {\n    this.auth = input\n  }\n\n  setChainId(input: u64) {\n    this.getData().chainId = input\n  }\n\n  setSeqNumber(input: u64) {\n    this.getData().sequenceNumber = input\n  }\n\n  hashData(): Bytes {\n    return this.getData().hash()\n  }\n\n  encode() {\n    return bcs.RoochTransaction.serialize({\n      data: this.data!.encode(),\n      auth: this.auth!.encode(),\n    })\n  }\n\n  private getData() {\n    this.isValid()\n    return this.data!\n  }\n\n  private isValid() {\n    if (!this.data) {\n      throw new Error('Transaction data is not initialized. Call action first.')\n    }\n  }\n}\n"],
  "mappings": "AAGA,SAAS,WAAW;AAIpB,SAAS,YAAY,uBAAuB;AAGrC,MAAM,YAAY;AAAA,EAKvB,aACE,OAGA;AACA,SAAK,OAAO,MAAM;AAClB,SAAK,OAAO,IAAI,gBAAgB,WAAW,gBAAgB,KAAK,CAAC;AAAA,EACnE;AAAA,EAEA,UAAU;AACR,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,UAAU,OAAgB;AACxB,SAAK,QAAQ,EAAE,SAAS;AAAA,EAC1B;AAAA,EAEA,QAAQ,OAAsB;AAC5B,SAAK,OAAO;AAAA,EACd;AAAA,EAEA,WAAW,OAAY;AACrB,SAAK,QAAQ,EAAE,UAAU;AAAA,EAC3B;AAAA,EAEA,aAAa,OAAY;AACvB,SAAK,QAAQ,EAAE,iBAAiB;AAAA,EAClC;AAAA,EAEA,WAAkB;AAChB,WAAO,KAAK,QAAQ,EAAE,KAAK;AAAA,EAC7B;AAAA,EAEA,SAAS;AACP,WAAO,IAAI,iBAAiB,UAAU;AAAA,MACpC,MAAM,KAAK,KAAM,OAAO;AAAA,MACxB,MAAM,KAAK,KAAM,OAAO;AAAA,IAC1B,CAAC;AAAA,EACH;AAAA,EAEQ,UAAU;AAChB,SAAK,QAAQ;AACb,WAAO,KAAK;AAAA,EACd;AAAA,EAEQ,UAAU;AAChB,QAAI,CAAC,KAAK,MAAM;AACd,YAAM,IAAI,MAAM,yDAAyD;AAAA,IAC3E;AAAA,EACF;AACF;",
  "names": []
}
