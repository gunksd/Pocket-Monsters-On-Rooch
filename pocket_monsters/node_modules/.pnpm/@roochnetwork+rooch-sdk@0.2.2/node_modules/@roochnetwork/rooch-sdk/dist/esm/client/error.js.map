{
  "version": 3,
  "sources": ["../../../src/client/error.ts"],
  "sourcesContent": ["// Copyright (c) RoochNetwork\n// SPDX-License-Identifier: Apache-2.0\n\nexport const ErrorValidateSequenceNuberTooOld = 1001\nexport const ErrorValidateSequenceNumberTooNew = 1002\nexport const ErrorValidateAccountDoesNotExist = 1003\nexport const ErrorValidateCantPayGasDeposit = 1004\nexport const ErrorValidateTransactionExpired = 1005\nexport const ErrorValidateBadChainId = 1006\nexport const ErrorValidateSequenceNumberTooBig = 1007\nexport const ErrorValidateMaxGasAmountExceeded = 1008\nexport const ErrorValidateInvalidAccountAuthKey = 1009\nexport const ErrorValidateInvalidAuthenticator = 1010\nexport const ErrorValidateNotInstalledAuthValidator = 1011\nexport const ErrorValidateSessionIsExpired = 1012\nexport const ErrorValidateFunctionCallBeyondSessionScope = 1013\n\nconst CODE_TO_ERROR_TYPE: Record<number, string> = {\n  1001: 'SequenceNuberTooOld',\n  1002: 'SequenceNuberTooNew',\n  1003: 'AccountDoesNotExist',\n  1004: 'CantPayGasDeposit',\n  1005: 'TransactionExpired',\n  1006: 'BadChainId',\n  1007: 'SequenceNumberTooBig',\n  1008: 'MaxGasAmountExceeded',\n  1009: 'InvalidAccountAuthKey',\n  1010: 'InvalidAuthenticator',\n  1011: 'NotInstalledAuthValidator',\n  1012: 'SessionIsExpired',\n  1013: 'CallFunctionBeyondSessionScop',\n}\n\nexport class RoochHTTPTransportError extends Error {}\n\nexport class JsonRpcError extends RoochHTTPTransportError {\n  code: number\n  type: string\n\n  constructor(message: string, code: number) {\n    super(message)\n    const parse = this.parseSubStatus()\n    this.code = parse || code\n    this.type = CODE_TO_ERROR_TYPE[this.code] ?? 'ServerError'\n  }\n\n  // Parse rooch RPC error sub status from `status ABORTED of type Execution with sub status 66537`\n  parse() {}\n\n  parseSubStatus(): number | null {\n    const regex = /sub status (\\d+)/\n    const match = this.message.match(regex)\n    const code = match ? parseInt(match[1]) : null\n\n    return code ? code & 0xffff : null\n  }\n}\n\nexport class RoochHTTPStatusError extends RoochHTTPTransportError {\n  status: number\n  statusText: string\n\n  constructor(message: string, status: number, statusText: string) {\n    super(message)\n    this.status = status\n    this.statusText = statusText\n  }\n}\n"],
  "mappings": "AAGO,MAAM,mCAAmC;AACzC,MAAM,oCAAoC;AAC1C,MAAM,mCAAmC;AACzC,MAAM,iCAAiC;AACvC,MAAM,kCAAkC;AACxC,MAAM,0BAA0B;AAChC,MAAM,oCAAoC;AAC1C,MAAM,oCAAoC;AAC1C,MAAM,qCAAqC;AAC3C,MAAM,oCAAoC;AAC1C,MAAM,yCAAyC;AAC/C,MAAM,gCAAgC;AACtC,MAAM,8CAA8C;AAE3D,MAAM,qBAA6C;AAAA,EACjD,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AACR;AAEO,MAAM,gCAAgC,MAAM;AAAC;AAE7C,MAAM,qBAAqB,wBAAwB;AAAA,EAIxD,YAAY,SAAiB,MAAc;AACzC,UAAM,OAAO;AACb,UAAM,QAAQ,KAAK,eAAe;AAClC,SAAK,OAAO,SAAS;AACrB,SAAK,OAAO,mBAAmB,KAAK,IAAI,KAAK;AAAA,EAC/C;AAAA;AAAA,EAGA,QAAQ;AAAA,EAAC;AAAA,EAET,iBAAgC;AAC9B,UAAM,QAAQ;AACd,UAAM,QAAQ,KAAK,QAAQ,MAAM,KAAK;AACtC,UAAM,OAAO,QAAQ,SAAS,MAAM,CAAC,CAAC,IAAI;AAE1C,WAAO,OAAO,OAAO,QAAS;AAAA,EAChC;AACF;AAEO,MAAM,6BAA6B,wBAAwB;AAAA,EAIhE,YAAY,SAAiB,QAAgB,YAAoB;AAC/D,UAAM,OAAO;AACb,SAAK,SAAS;AACd,SAAK,aAAa;AAAA,EACpB;AACF;",
  "names": []
}
